webpackJsonp([2],{"2f0p":function(t,e,a){"use strict";var n=a("pFYg"),i=a.n(n),r=a("woOf"),s=a.n(r),o=a("Zx67"),c=a.n(o),l=a("Zrlr"),u=a.n(l),d=a("zwoO"),v=a.n(d),h=a("Pf15"),f=a.n(h),p=a("hiCB"),m=a.n(p),g={name:"picture-input",props:{width:{type:[String,Number],default:m.a},height:{type:[String,Number],default:m.a},margin:{type:[String,Number],default:0},accept:{type:String,default:"image/*"},size:{type:[String,Number],default:m.a},name:{type:String,default:null},id:{type:[String,Number],default:null},buttonClass:{type:String,default:"btn btn-primary button"},removeButtonClass:{type:String,default:"btn btn-secondary button secondary"},aspectButtonClass:{type:String,default:"btn btn-secondary button secondary"},prefill:{type:[String,File],default:""},prefillOptions:{type:Object,default:function(){return{}}},crop:{type:Boolean,default:!0},radius:{type:[String,Number],default:0},removable:{type:Boolean,default:!1},hideChangeButton:{type:Boolean,default:!1},autoToggleAspectRatio:{type:Boolean,default:!1},toggleAspectRatio:{type:Boolean,default:!1},changeOnClick:{type:Boolean,default:!0},plain:{type:Boolean,default:!1},zIndex:{type:Number,default:1e4},alertOnError:{type:Boolean,default:!0},customStrings:{type:Object,default:function(){return{}}}},watch:{prefill:function(){this.prefill?this.preloadImage(this.prefill,this.prefillOptions):this.removeImage()}},data:function(){return{imageSelected:!1,previewHeight:0,previewWidth:0,draggingOver:!1,canvasWidth:0,canvasHeight:0,strings:{upload:"<p>Your device does not support file uploading.</p>",drag:"Drag an image or <br>click here to select a file",tap:"Tap here to select a photo <br>from your gallery",change:"Change Photo",aspect:"Landscape/Portrait",remove:"Remove Photo",select:"Select a Photo",selected:"<p>Photo successfully selected!</p>",fileSize:"The file size exceeds the limit",fileType:"This file type is not supported."}}},mounted:function(){var t=this;if(this.updateStrings(),this.prefill&&this.preloadImage(this.prefill,this.prefillOptions),this.$nextTick(function(){window.addEventListener("resize",t.onResize),t.onResize()}),this.supportsPreview){this.pixelRatio=Math.round(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI);var e=this.$refs.previewCanvas;e.getContext&&(this.context=e.getContext("2d"),this.context.scale(this.pixelRatio,this.pixelRatio))}"image/*"!==this.accept&&(this.fileTypes=this.accept.split(","),this.fileTypes=this.fileTypes.map(function(t){return t.trim()})),this.canvasWidth=this.width,this.canvasHeight=this.height,this.$on("error",this.onError)},beforeDestroy:function(){window.removeEventListener("resize",this.onResize),this.$off("error",this.onError)},methods:{updateStrings:function(){for(var t in this.customStrings)t in this.strings&&"string"==typeof this.customStrings[t]&&(this.strings[t]=this.customStrings[t])},onClick:function(){this.imageSelected?(this.changeOnClick&&this.selectImage(),this.$emit("click")):this.selectImage()},onResize:function(){this.resizeCanvas(),this.imageObject&&this.drawImage(this.imageObject)},onDragStart:function(){this.supportsDragAndDrop&&(this.draggingOver=!0)},onDragStop:function(){this.supportsDragAndDrop&&(this.draggingOver=!1)},onFileDrop:function(t){this.onDragStop(),this.onFileChange(t)},onFileChange:function(t,e){var a=t.target.files||t.dataTransfer.files;if(a.length)if(a[0].size<=0||a[0].size>1024*this.size*1024)this.$emit("error",{type:"fileSize",fileSize:a[0].size,fileType:a[0].type,fileName:a[0].name,message:this.strings.fileSize+" ("+this.size+"MB)"});else if(a[0].name!==this.fileName||a[0].size!==this.fileSize||this.fileModified!==a[0].lastModified){if(this.file=a[0],this.fileName=a[0].name,this.fileSize=a[0].size,this.fileModified=a[0].lastModified,this.fileType=a[0].type,"image/*"===this.accept){if("image/"!==a[0].type.substr(0,6))return}else if(-1===this.fileTypes.indexOf(a[0].type))return void this.$emit("error",{type:"fileType",fileSize:a[0].size,fileType:a[0].type,fileName:a[0].name,message:this.strings.fileType});this.imageSelected=!0,this.image="",this.supportsPreview?this.loadImage(a[0],e||!1):e?this.$emit("prefill"):this.$emit("change",this.image)}},onError:function(t){this.alertOnError&&alert(t.message)},loadImage:function(t,e){var a=this;this.getEXIFOrientation(t,function(n){a.setOrientation(n);var i=new FileReader;i.onload=function(t){a.image=t.target.result,e?a.$emit("prefill"):a.$emit("change",a.image),a.imageObject=new Image,a.imageObject.onload=function(){a.autoToggleAspectRatio&&(a.getOrientation(a.canvasWidth,a.canvasHeight)!==a.getOrientation(a.imageObject.width,a.imageObject.height)&&a.rotateCanvas());a.drawImage(a.imageObject)},a.imageObject.src=a.image},i.readAsDataURL(t)})},drawImage:function(t){this.imageWidth=t.width,this.imageHeight=t.height,this.imageRatio=t.width/t.height;var e=0,a=0,n=this.previewWidth,i=this.previewHeight,r=this.previewWidth/this.previewHeight;this.crop?this.imageRatio>=r?(n=i*this.imageRatio,e=(this.previewWidth-n)/2):(i=n/this.imageRatio,a=(this.previewHeight-i)/2):this.imageRatio>=r?(i=n/this.imageRatio,a=(this.previewHeight-i)/2):(n=i*this.imageRatio,e=(this.previewWidth-n)/2);var s=this.$refs.previewCanvas;s.style.background="none",s.width=this.previewWidth*this.pixelRatio,s.height=this.previewHeight*this.pixelRatio,this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,s.width,s.height),this.rotate&&(this.context.translate(e*this.pixelRatio,a*this.pixelRatio),this.context.translate(n/2*this.pixelRatio,i/2*this.pixelRatio),this.context.rotate(this.rotate),e=-n/2,a=-i/2),this.context.drawImage(t,e*this.pixelRatio,a*this.pixelRatio,n*this.pixelRatio,i*this.pixelRatio)},selectImage:function(){this.$refs.fileInput.click()},removeImage:function(){this.$refs.fileInput.value="",this.$refs.fileInput.type="",this.$refs.fileInput.type="file",this.fileName="",this.fileType="",this.fileSize=0,this.fileModified=0,this.imageSelected=!1,this.image="",this.file=null,this.imageObject=null,this.$refs.previewCanvas.style.backgroundColor="rgba(200,200,200,.25)",this.$refs.previewCanvas.width=this.previewWidth*this.pixelRatio,this.$emit("remove")},rotateImage:function(){this.rotateCanvas(),this.imageObject&&this.drawImage(this.imageObject);var t=this.getOrientation(this.canvasWidth,this.canvasHeight);this.$emit("aspectratiochange",t)},resizeCanvas:function(){var t=this.canvasWidth/this.canvasHeight,e=this.$refs.container.clientWidth;(this.toggleAspectRatio||e!==this.containerWidth)&&(this.containerWidth=e,this.previewWidth=Math.min(this.containerWidth-2*this.margin,this.canvasWidth),this.previewHeight=this.previewWidth/t)},getOrientation:function(t,e){var a="square";return t>e?a="landscape":t<e&&(a="portrait"),a},switchCanvasOrientation:function(){var t=this.canvasWidth,e=this.canvasHeight;this.canvasWidth=e,this.canvasHeight=t},rotateCanvas:function(){this.switchCanvasOrientation(),this.resizeCanvas()},setOrientation:function(t){this.rotate=!1,8===t?this.rotate=-Math.PI/2:6===t?this.rotate=Math.PI/2:3===t&&(this.rotate=-Math.PI)},getEXIFOrientation:function(t,e){var a=new FileReader;a.onload=function(t){var a=new DataView(t.target.result);if(65496!==a.getUint16(0,!1))return e(-2);for(var n=a.byteLength,i=2;i<n;){var r=a.getUint16(i,!1);if(i+=2,65505===r){if(1165519206!==a.getUint32(i+=2,!1))return e(-1);var s=18761===a.getUint16(i+=6,!1);i+=a.getUint32(i+4,s);var o=a.getUint16(i,s);i+=2;for(var c=0;c<o;c++)if(274===a.getUint16(i+12*c,s))return e(a.getUint16(i+12*c+8,s))}else{if(65280!=(65280&r))break;i+=a.getUint16(i,!1)}}return e(-1)},a.readAsArrayBuffer(t.slice(0,65536))},preloadImage:function(t,e){var a=this,n=window.File;try{new n([],"")}catch(t){n=function(t){function e(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u()(this,e);var i=v()(this,(e.__proto__||c()(e)).call(this,t,n));return i.lastModifiedDate=new Date,i.lastModified=+i.lastModifiedDate,i.name=a,i}return f()(e,t),e}(Blob)}if(e=s()({},e),"object"===(void 0===t?"undefined":i()(t)))return this.imageSelected=!0,this.image="",void(this.supportsPreview?this.loadImage(t,!0):this.$emit("prefill"));var r=new Headers;r.append("Accept","image/*"),fetch(t,{method:"GET",mode:"cors",headers:r}).then(function(t){return t.blob()}).then(function(i){var r={target:{files:[]}},s=e.fileName||t.split("/").slice(-1)[0],o=e.mediaType||"image/"+(e.fileType||s.split(".").slice(-1)[0]);o=o.replace("jpg","jpeg"),r.target.files[0]=new n([i],s,{type:o}),a.onFileChange(r,!0)}).catch(function(t){a.$emit("error",{type:"failedPrefill",message:"Failed loading prefill image: "+t})})}},computed:{supportsUpload:function(){if(navigator.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var t=document.createElement("input");return t.type="file",!t.disabled},supportsPreview:function(){return window.FileReader&&!!window.CanvasRenderingContext2D},supportsDragAndDrop:function(){var t=document.createElement("div");return("draggable"in t||"ondragstart"in t&&"ondrop"in t)&&!("ontouchstart"in window||navigator.msMaxTouchPoints)},computedClasses:function(){var t={};return t["dragging-over"]=this.draggingOver,t},fontSize:function(){return Math.min(.04*this.previewWidth,21)+"px"}}},b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"container",staticClass:"picture-input",attrs:{id:"picture-input"}},[t.supportsUpload?t.supportsPreview?a("div",[a("div",{staticClass:"preview-container",style:{maxWidth:t.previewWidth+"px",height:t.previewHeight+"px",borderRadius:t.radius+"%"}},[a("canvas",{ref:"previewCanvas",staticClass:"picture-preview",class:t.computedClasses,style:{height:t.previewHeight+"px",zIndex:t.zIndex+1},on:{drag:function(t){t.stopPropagation(),t.preventDefault()},dragover:function(t){t.stopPropagation(),t.preventDefault()},dragstart:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStart(e)},dragenter:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStart(e)},dragend:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStop(e)},dragleave:function(e){return e.stopPropagation(),e.preventDefault(),t.onDragStop(e)},drop:function(e){return e.stopPropagation(),e.preventDefault(),t.onFileDrop(e)},click:function(e){return e.preventDefault(),t.onClick(e)}}}),t._v(" "),t.imageSelected||t.plain?t._e():a("div",{staticClass:"picture-inner",style:{top:-t.previewHeight+"px",marginBottom:-t.previewHeight+"px",fontSize:t.fontSize,borderRadius:t.radius+"%",zIndex:t.zIndex+2}},[t.supportsDragAndDrop?a("span",{staticClass:"picture-inner-text",domProps:{innerHTML:t._s(t.strings.drag)}}):a("span",{staticClass:"picture-inner-text",domProps:{innerHTML:t._s(t.strings.tap)}})])]),t._v(" "),t.imageSelected&&!t.hideChangeButton?a("button",{class:t.buttonClass,on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}},[t._v(t._s(t.strings.change))]):t._e(),t._v(" "),t.imageSelected&&t.removable?a("button",{class:t.removeButtonClass,on:{click:function(e){return e.preventDefault(),t.removeImage(e)}}},[t._v(t._s(t.strings.remove))]):t._e(),t._v(" "),t.imageSelected&&t.toggleAspectRatio&&t.width!==t.height?a("button",{class:t.aspectButtonClass,on:{click:function(e){return e.preventDefault(),t.rotateImage(e)}}},[t._v(t._s(t.strings.aspect))]):t._e()]):a("div",[t.imageSelected?a("div",[a("div",{domProps:{innerHTML:t._s(t.strings.selected)}}),t._v(" "),t.hideChangeButton?t._e():a("button",{class:t.buttonClass,on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}},[t._v(t._s(t.strings.change))]),t._v(" "),t.removable?a("button",{class:t.removeButtonClass,on:{click:function(e){return e.preventDefault(),t.removeImage(e)}}},[t._v(t._s(t.strings.remove))]):t._e()]):a("button",{class:t.buttonClass,on:{click:function(e){return e.preventDefault(),t.selectImage(e)}}},[t._v(t._s(t.strings.select))])]):a("div",{domProps:{innerHTML:t._s(t.strings.upload)}}),t._v(" "),a("input",{ref:"fileInput",attrs:{type:"file",name:t.name,id:t.id,accept:t.accept},on:{change:t.onFileChange}})])},staticRenderFns:[]};var _=a("VU/8")(g,b,!1,function(t){a("WVE5")},"data-v-5080a0f2",null);e.a=_.exports},"8ZD/":function(t,e,a){"use strict";(function(t){var n=a("YaEn"),i=a("oQ9p");e.a={name:"ContactCard",components:{Avatar:i.a},data:function(){return{avatarSize:96,image:null}},props:["contact"],methods:{deleteContact:function(){this.$emit("deleteContact",this.contact._id)},favouriteContact:function(){this.$emit("favouriteContact",this.contact._id,!this.contact.favourite)},openContact:function(){n.a.push("/contacts/view/"+this.contact._id)},editContact:function(){n.a.push("/contacts/view/"+this.contact._id+"?mode=edit")}},created:function(){if(this.contact.image&&this.contact.image.data){var e=this.contact.image.data.data;e=t(e,"binary").toString("base64"),this.image="data:image/png;base64,"+e}}}}).call(e,a("EuP9").Buffer)},EJuv:function(t,e,a){"use strict";var n={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"",wrap:""}},[a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Label",disabled:"view"===t.mode},model:{value:t.label,callback:function(e){t.label=e},expression:"label"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{attrs:{label:"Number",disabled:"view"===t.mode},model:{value:t.number,callback:function(e){t.number=e},expression:"number"}})],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs1:""}},[a("v-btn",{attrs:{fab:"",small:"",color:"secondary"},on:{click:function(e){t.$emit("remove")}}},[a("v-icon",[t._v("remove")])],1)],1),t._v(" "),a("v-spacer")],1)},staticRenderFns:[]},i=a("VU/8")({name:"Phone",data:function(){return{label:"",number:""}},props:["propLabel","propNumber","mode"],created:function(){this.propLabel&&(this.label=this.propLabel),this.propNumber&&(this.number=this.propNumber)}},n,!1,null,null,null);e.a=i.exports},Ekkx:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",{attrs:{light:""}},[e("v-container",[e("router-view")],1)],1)},staticRenderFns:[]},r=a("VU/8")({name:"app"},i,!1,null,null,null).exports,s=a("YaEn"),o=a("K/Lq"),c=a.n(o),l=a("3EgV"),u=a.n(l);a("IHMs");a.e(0).then(a.bind(null,"7zck")),n.default.use(c.a),n.default.use(u.a,{theme:{primary:"#7FB800",secondary:"#00A6ED",info:"#F5BB00",error:"#F6511D",accent:"#587291"}}),n.default.config.productionTip=!1,new n.default({el:"#app",router:s.a,data:{drawer:null},template:"<App/>",components:{App:r}})},TTcA:function(t,e,a){"use strict";(function(t){var n=a("EJuv"),i=a("2f0p"),r=a("YaEn"),s=a("mtWM"),o=a.n(s),c=a("oAV5");e.a={name:"CreateContact",components:{phone:n.a,PictureInput:i.a},data:function(){return{snackbarText:"",snackbarColor:"",snackbarTimeout:6e3,snackbar:!1,name:"",surname:"",email:"",children:[],phones:[],phoneId:0,image:null}},methods:{addPhone:function(){this.children.push({id:this.phoneId++})},removePhone:function(t,e){this.children.splice(t,1),this.phones=this.phones.filter(function(t){return t.key!==e})},save:function(){var t=this;this.phones=[];var e=this.$children[2].$children.filter(function(t){return"Phone"===t.$options.name});for(var a in e)this.phones.push({label:e[a].label,number:e[a].number});var n={name:this.name,surname:this.surname,image:this.image,email:this.email,favourite:!1,phone:this.phones};o()({method:"post",url:"/api/v1/contacts/create",baseURL:c.a,data:n}).then(function(e){var a=e.data,n=Object(c.b)(a);t.snackbarText=n.snackbarText,t.snackbarColor=n.snackbarColor,t.snackbar=n.snackbar}).catch(function(e){t.snackbarText="Error while creating new contact",t.snackbarColor="error",t.snackbar=!0})},cancel:function(){r.a.push("/")},onImageChange:function(e){e?(e=e.replace("data:image/jpeg;base64,",""),this.image=t.from(e,"base64")):console.log("FileReader API not supported: use the <form>, Luke!")}}}}).call(e,a("EuP9").Buffer)},Tm4W:function(t,e,a){"use strict";(function(t){var n=a("7+uW"),i=a("EJuv"),r=a("2f0p"),s=a("YaEn"),o=a("mtWM"),c=a.n(o),l=a("oAV5"),u=a("K72J"),d=a.n(u),v=a("UJ/Q"),h=a.n(v),f=a("oQ9p");n.default.use(d.a),n.default.use(h.a),e.a={name:"ViewContact",components:{phone:i.a,PictureInput:r.a,Avatar:f.a},data:function(){return{snackbarText:"",snackbarColor:"",snackbarTimeout:6e3,snackbar:!1,name:"",surname:"",image:null,avatar:null,email:"",favourite:!1,children:[],phones:[],loadedPhonesCount:0,phoneId:0,contactId:"",mode:"view",deleteContactDialog:!1,avatarSize:96}},methods:{addPhone:function(){this.children.push({id:this.phoneId++})},removePhone:function(t,e){this.children.splice(t,1),this.phones=this.phones.filter(function(t){return t.key!==e})},save:function(){var t=this;this.phones=[];var e=this.$children[2].$children.filter(function(t){return"Phone"===t.$options.name});for(var a in e)this.phones.push({label:e[a].label,number:e[a].number});var n={id:this.contactId,name:this.name,surname:this.surname,image:this.image,email:this.email,favourite:this.favourite,phone:this.phones};c()({method:"post",url:"/api/v1/contacts/modify",baseURL:l.a,data:n}).then(function(e){var a=e.data,n=Object(l.b)(a);t.snackbarText=n.snackbarText,t.snackbarColor=n.snackbarColor,t.snackbar=n.snackbar}).catch(function(e){t.snackbarText="Error while creating new contact",t.snackbarColor="error",t.snackbar=!0})},cancel:function(){s.a.push("/")},openDeleteContactDialog:function(){this.deleteContactDialog=!0},deleteContact:function(){var t=this;this.deleteContactDialog=!1,c.a.delete(l.a+"/api/v1/contacts/delete/"+this.contactId).then(function(e){var a=e.data,n=Object(l.b)(a);t.snackbarText=n.snackbarText,t.snackbarColor=n.snackbarColor,t.snackbar=n.snackbar,s.a.push("/")}).catch(function(e){var a=Object(l.b)(e.response.data);t.snackbarText=a.snackbarText,t.snackbarColor=a.snackbarColor,t.snackbar=a.snackbar})},onImageChange:function(e){e?(this.avatar=e,e=e.replace("data:image/jpeg;base64,",""),this.image=t.from(e,"base64")):console.log("FileReader API not supported: use the <form>, Luke!")}},created:function(){var e=this;this.contactId=this.$route.params.id,this.mode=this.$route.query.mode?this.$route.query.mode:this.mode,c.a.get(l.a+"/api/v1/contacts?id="+this.contactId).then(function(a){var n=a.data;if(e.name=n.data[0].name,e.surname=n.data[0].surname,n.data[0].image){e.image=n.data[0].image.data;var i=n.data[0].image.data.data;i=t(i,"binary").toString("base64"),e.avatar="data:image/png;base64,"+i}if(e.email=n.data[0].email,e.favourite=n.data[0].favourite,e.phones=n.data[0].phone,e.phones.length>0)for(var r in e.loadedPhonesCount=e.phones.length,e.phones)e.addPhone()})}}}).call(e,a("EuP9").Buffer)},WVE5:function(t,e){},YaEn:function(t,e,a){"use strict";var n=a("7+uW"),i=a("/ocq"),r=a("mtWM"),s=a.n(r),o=a("oAV5"),c=a("8ZD/"),l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{attrs:{color:"transparent",light:"",height:"100%"}},[a("v-layout",[a("v-flex",{attrs:{xs5:""}},[t.image?a("v-avatar",{attrs:{size:t.avatarSize,color:"grey lighten-4"}},[a("img",{attrs:{src:t.image,alt:"avatar"}})]):a("avatar",{attrs:{size:t.avatarSize,fullname:t.contact.name+" "+t.contact.surname}})],1),t._v(" "),a("v-flex",{attrs:{xs7:""}},[a("v-card-title",{attrs:{"primary-title":""}},[a("div",{staticClass:"headline",on:{click:t.openContact}},[t._v(t._s(t.contact.name)+" "+t._s(t.contact.surname))])])],1)],1),t._v(" "),a("v-divider",{attrs:{light:""}}),t._v(" "),a("v-card-actions",{staticClass:"pa-3"},[a("v-icon",{attrs:{color:t.contact.favourite?"primary":""},on:{click:t.favouriteContact}},[t._v("star")]),t._v(" "),a("v-spacer"),t._v(" "),a("v-icon",{on:{click:t.editContact}},[t._v("edit")]),t._v(" "),a("v-icon",{on:{click:t.deleteContact}},[t._v("delete")])],1)],1)},staticRenderFns:[]},u={name:"ContactList",components:{contactCard:a("VU/8")(c.a,l,!1,null,null,null).exports},data:function(){return{}},props:["contacts","isFavourite"],methods:{deleteContact:function(t){this.$emit("deleteContact",t)},favouriteContact:function(t,e){this.$emit("favouriteContact",t,e)},createContact:function(){D.push("contacts/create")}}},d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{"justify-center":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[t.isFavourite?t._e():a("v-flex",{key:"addNew",attrs:{md3:"",sm6:"",xs6:"","text-xs-center":""}},[a("v-btn",{attrs:{outline:"",large:"",fab:"",color:"primary"},on:{click:t.createContact}},[a("v-icon",[t._v("add")])],1)],1),t._v(" "),t._l(t.contacts,function(e){return e.favourite&&t.isFavourite||!t.isFavourite?a("v-flex",{key:e.email,attrs:{md3:"",sm6:"",xs6:""}},[a("contact-card",{attrs:{contact:e},on:{deleteContact:t.deleteContact,favouriteContact:t.favouriteContact}})],1):t._e()})],2)],1)],1)],1)],1)},staticRenderFns:[]},v={name:"Tabs",components:{contactsList:a("VU/8")(u,d,!1,null,null,null).exports},data:function(){return{favourite:!0,tab:"tab-1"}},props:["contacts"],methods:{deleteContact:function(t){this.$emit("deleteContact",t)},favouriteContact:function(t,e){this.$emit("favouriteContact",t,e)}}},h={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-tabs",{attrs:{centered:"",color:"transparent",light:"","icons-and-text":""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"primary"}}),t._v(" "),a("v-tab",{attrs:{href:"#tab-1"}},[t._v("\n      All contacts\n      "),a("v-icon",[t._v("account_box")])],1),t._v(" "),a("v-tab",{attrs:{href:"#tab-2"}},[t._v("\n      My favourites\n      "),a("v-icon",[t._v("favorite")])],1)],1),t._v(" "),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[a("v-tab-item",{key:1,attrs:{value:"tab-1"}},[a("contacts-list",{attrs:{contacts:t.contacts,isFavourite:!t.favourite},on:{deleteContact:t.deleteContact,favouriteContact:t.favouriteContact}})],1),t._v(" "),a("v-tab-item",{key:2,attrs:{value:"tab-2"}},[a("contacts-list",{attrs:{contacts:t.contacts,isFavourite:t.favourite},on:{deleteContact:t.deleteContact,favouriteContact:t.favouriteContact}})],1)],1)],1)},staticRenderFns:[]},f={name:"Home",components:{tabs:a("VU/8")(v,h,!1,null,null,null).exports},data:function(){return{search:"",contacts:[],snackbarText:"",snackbarColor:"",snackbarTimeout:6e3,snackbar:!1,deleteContactDialog:!1,deleteContactId:"",mock:!0}},methods:{mockContacts:function(){var t=this;s.a.post(o.a+"/api/v1/contacts/setup").then(function(e){var a=e.data;t.showSnackbar(a),s.a.get(o.a+"/api/v1/contacts").then(function(e){var a=e.data;""===a?t.contacts=[]:a.success&&(t.contacts=a.data),t.mock=!1})})},openDeleteContactDialog:function(t){this.deleteContactDialog=!0,this.deleteContactId=t},deleteContact:function(){var t=this;this.deleteContactDialog=!1,s.a.delete(o.a+"/api/v1/contacts/delete/"+this.deleteContactId).then(function(e){var a=e.data;t.showSnackbar(a),s.a.get(o.a+"/api/v1/contacts").then(function(e){var a=e.data;""===a?t.contacts=[]:a.success&&(t.contacts=a.data)})}).catch(function(e){t.showSnackbar(e.response.data)})},favouriteContact:function(t,e){var a=this,n={id:t,favourite:e};s.a.post(o.a+"/api/v1/contacts/modify",n).then(function(t){var e=t.data;a.showSnackbar(e),s.a.get(o.a+"/api/v1/contacts").then(function(t){var e=t.data;""===e?a.contacts=[]:e.success&&(a.contacts=e.data)})}).catch(function(t){a.showSnackbar(t.response.data)})},showSnackbar:function(t){var e=Object(o.b)(t);this.snackbarText=e.snackbarText,this.snackbarColor=e.snackbarColor,this.snackbar=e.snackbar}},watch:{contacts:function(t,e){}},computed:{filteredContacts:function(){var t=this;return this.contacts.filter(function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())||e.surname.toLowerCase().includes(t.search.toLowerCase())||e.email.toLowerCase().includes(t.search.toLowerCase())||e.phone.some(function(e){return e.label.toLowerCase().includes(t.search.toLowerCase())})||e.phone.some(function(e){return e.number.toLowerCase().includes(t.search.toLowerCase())})})}},created:function(){var t=this;s.a.get(o.a+"/api/v1/contacts").then(function(e){var a=e.data;a.success&&(t.contacts=a.data)})}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"l-home-page"},[a("app-header"),t._v(" "),t.mock?a("v-layout",{attrs:{"align-end":"","justify-end":"",row:"","fill-height":""}},[a("v-btn",{attrs:{flat:"",color:"secondary"},on:{click:function(e){t.mockContacts()}}},[t._v("Mock Contacts "+t._s(t.BaseURL))])],1):t._e(),t._v(" "),a("v-layout",{attrs:{"align-center":"","justify-center":"",row:"","fill-height":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-text-field",{attrs:{"append-icon":"search",box:"",color:"transparent"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),t._v(" "),a("tabs",{attrs:{contacts:t.filteredContacts},on:{deleteContact:t.openDeleteContactDialog,favouriteContact:t.favouriteContact}}),t._v(" "),a("v-snackbar",{attrs:{timeout:t.snackbarTimeout,color:t.snackbarColor,bottom:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.snackbarText)+"\n    "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.deleteContactDialog,callback:function(e){t.deleteContactDialog=e},expression:"deleteContactDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this user?")]),t._v(" "),a("v-card-text",[t._v("This cannot be undone... contact will be gone forever.")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondary",flat:""},nativeOn:{click:function(e){t.deleteContactDialog=!1}}},[t._v("No")]),t._v(" "),a("v-btn",{attrs:{color:"accent",dark:""},nativeOn:{click:function(e){t.deleteContact()}}},[t._v("Yes")])],1)],1)],1)],1)},staticRenderFns:[]},m=a("VU/8")(f,p,!1,null,null,null).exports,g=a("TTcA"),b={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"l-home-page"},[a("app-header"),t._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[a("v-card",{attrs:{color:"transparent",light:"",flat:""}},[a("v-layout",[a("picture-input",{ref:"pictureInput",attrs:{width:"600",height:"600",margin:"16",accept:"image/jpeg,image/png",size:"5","button-class":"v-btn outline info"},on:{change:t.onImageChange}})],1)],1)],1),t._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md8:""}},[a("v-card",{attrs:{color:"transparent",light:"",flat:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs1:"","text-xs-center":""}},[a("v-btn",{attrs:{flat:"",icon:"",large:"",color:"secondary"},on:{click:t.cancel}},[a("v-icon",[t._v("arrow_back")])],1)],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"","text-xs-center":""}},[a("v-subheader",[t._v("Name")])],1)],1),t._v(" "),a("v-text-field",{model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Surname")])],1)],1),t._v(" "),a("v-text-field",{model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Email")])],1)],1),t._v(" "),a("v-text-field",{model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Numbers")])],1)],1),t._v(" "),t._l(t.children,function(e,n){return a("phone",{key:e.id,attrs:{pkey:e.id},on:{remove:function(a){t.removePhone(n,e.id)}}})}),t._v(" "),a("v-flex",{attrs:{xs1:""}},[a("v-btn",{attrs:{slot:"activator",fab:"",small:"",color:"info"},on:{click:function(e){t.addPhone()}},slot:"activator"},[a("v-icon",[t._v("add")])],1)],1),t._v(" "),a("v-btn",{attrs:{outline:"",color:"error"},on:{click:t.cancel}},[t._v("\n            Cancel\n          ")]),t._v(" "),a("v-btn",{attrs:{outline:"",color:"primary"},on:{click:t.save}},[t._v("\n            Save\n          ")])],2)],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:t.snackbarTimeout,color:t.snackbarColor,bottom:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.snackbarText)+"\n    "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1)],1)},staticRenderFns:[]},_=a("VU/8")(g.a,b,!1,null,null,null).exports,x=a("Tm4W"),C={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("main",{staticClass:"l-home-page"},[a("app-header"),t._v(" "),a("v-container",{attrs:{fluid:"","grid-list-md":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md4:""}},[a("v-card",{attrs:{color:"transparent",light:"",flat:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs5:""}},[t.avatar?a("v-avatar",{attrs:{size:t.avatarSize,color:"grey lighten-4"}},[a("img",{attrs:{src:t.avatar,alt:"avatar"}})]):a("avatar",{attrs:{fullname:t.name+" "+t.surname,size:t.avatarSize}})],1)],1),t._v(" "),a("v-layout",{attrs:{row:""}},["edit"===t.mode?a("picture-input",{ref:"pictureInput",attrs:{width:"600",height:"600",margin:"16",accept:"image/jpeg,image/png",size:"5","button-class":"v-btn outline info"},on:{change:t.onImageChange}}):t._e()],1)],1)],1),t._v(" "),a("v-flex",{attrs:{"d-flex":"",xs12:"",sm6:"",md8:""}},[a("v-card",{attrs:{color:"transparent",light:"",flat:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs1:"","text-xs-center":""}},[a("v-btn",{attrs:{flat:"",icon:"",large:"",color:"secondary"},on:{click:t.cancel}},[a("v-icon",[t._v("arrow_back")])],1)],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-flex",{attrs:{xs1:"","text-xs-center":""}},[a("v-icon",{attrs:{color:t.favourite?"primary":""},on:{click:function(e){t.favourite=!t.favourite}},model:{value:t.favourite,callback:function(e){t.favourite=e},expression:"favourite"}},[t._v("star")])],1),t._v(" "),"view"===t.mode?a("v-flex",{attrs:{xs1:"","text-xs-center":""}},[a("v-icon",{on:{click:function(e){t.mode="edit"}}},[t._v("edit")])],1):t._e(),t._v(" "),"edit"===t.mode?a("v-flex",{attrs:{xs1:"","text-xs-center":""}},[a("v-icon",{on:{click:t.openDeleteContactDialog}},[t._v("delete")])],1):t._e()],1),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:"","text-xs-center":""}},[a("v-subheader",[t._v("Name")])],1)],1),t._v(" "),a("v-text-field",{attrs:{disabled:"edit"!==this.mode},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Surname")])],1)],1),t._v(" "),a("v-text-field",{attrs:{disabled:"edit"!==this.mode},model:{value:t.surname,callback:function(e){t.surname=e},expression:"surname"}}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Email")])],1)],1),t._v(" "),a("v-text-field",{attrs:{disabled:"edit"!==this.mode},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-subheader",[t._v("Numbers")])],1)],1),t._v(" "),t._l(t.children,function(e,n){return a("phone",{key:e.id,attrs:{pkey:e.id,propLabel:t.loadedPhonesCount>e.id?t.phones[e.id].label:"",propNumber:t.loadedPhonesCount>e.id?t.phones[e.id].number:"",mode:t.mode},on:{remove:function(a){t.removePhone(n,e.id)}}})}),t._v(" "),"edit"===t.mode?a("v-flex",{attrs:{xs1:""}},[a("v-btn",{attrs:{slot:"activator",fab:"",small:"",color:"info"},on:{click:function(e){t.addPhone()}},slot:"activator"},[a("v-icon",[t._v("add")])],1)],1):t._e(),t._v(" "),"edit"===t.mode?a("v-btn",{attrs:{outline:"",color:"error"},on:{click:t.cancel}},[t._v("\n            Cancel\n          ")]):t._e(),t._v(" "),"edit"===t.mode?a("v-btn",{attrs:{outline:"",color:"primary"},on:{click:t.save}},[t._v("\n            Save\n          ")]):t._e()],2)],1)],1)],1),t._v(" "),a("v-snackbar",{attrs:{timeout:t.snackbarTimeout,color:t.snackbarColor,bottom:!0},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n    "+t._s(t.snackbarText)+"\n    "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.snackbar=!1}}},[t._v("Close")])],1),t._v(" "),a("v-dialog",{attrs:{persistent:"","max-width":"400px"},model:{value:t.deleteContactDialog,callback:function(e){t.deleteContactDialog=e},expression:"deleteContactDialog"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this user?")]),t._v(" "),a("v-card-text",[t._v("This cannot be undone... contact will be gone forever.")]),t._v(" "),a("v-card-actions",[a("v-spacer"),t._v(" "),a("v-btn",{attrs:{color:"secondary",flat:""},nativeOn:{click:function(e){t.deleteContactDialog=!1}}},[t._v("No")]),t._v(" "),a("v-btn",{attrs:{color:"accent",dark:""},nativeOn:{click:function(e){t.deleteContact()}}},[t._v("Yes")])],1)],1)],1)],1)},staticRenderFns:[]},k=a("VU/8")(x.a,C,!1,null,null,null).exports,w={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-toolbar",{attrs:{dense:"",color:"primary"}},[e("v-toolbar-title",[this._v("Contact List")]),this._v(" "),e("v-spacer")],1)},staticRenderFns:[]},y=a("VU/8")({name:"Header"},w,!1,null,null,null).exports;n.default.component("app-header",y),n.default.use(i.a);var S=new i.a({routes:[{path:"/",name:"Home",components:{default:m,header:y}},{path:"/contacts/create",name:"CreateContact",components:{default:_,header:y}},{path:"/contacts/view/:id",name:"ViewContact",components:{default:k,header:y},props:function(t){return{mode:t.query.mode}}}]}),D=e.a=S},oAV5:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"b",function(){return i});var n="https://"+window.location.hostname,i=function(t){var e="",a="";return t?null!==t.success&&!0===t.success&&t.message?(e=t.message,a="primary"):null!==t.success&&!1===t.success&&t.message?(e=t.message,a="error"):(e="Something went wrong",a="error"):(e="Server error",a="error"),!0,{snackbar:!0,snackbarColor:a,snackbarText:e}}},oQ9p:function(t,e,a){"use strict";var n={name:"avatar",props:{fullname:{type:String,default:"##"},size:{type:Number,default:48},radius:{type:Number,default:50},color:{type:String,default:""},image:{type:String,default:""}},computed:{initials:function(){for(var t=this.fullname.split(/[\s-]+/),e="",a=0;a<t.length;a++)e+=t[a].substr(0,1).toUpperCase();return e.length>3&&(e=e.substr(0,3)),e},style:function(){var t=this.initials.length>2?this.size/3:this.size/2;return this.radius=this.radius>=0?this.radius:0,this.radius=this.radius<=50?this.radius:50,{width:this.size+"px",height:this.size+"px","border-radius":this.radius+"%","font-size":t+"px","background-color":""==this.color?this.toColor(this.fullname):this.color,"background-image":this.hasImage?"url("+this.image+")":"none"}},hasImage:function(){return""!=this.image}},methods:{toColor:function(t){var e=0,a=t.length;if(0===a)return black;for(var n=0;n<a;n++)e=(e<<8)-e+t.charCodeAt(n),e|=0;return"#"+(e=Math.abs(e)).toString(16).substr(0,6)}}},i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"avatar",style:this.style},[e("table",[e("tr",[this.hasImage?this._e():e("td",[this._v(this._s(this.initials))])])])])},staticRenderFns:[]};var r=a("VU/8")(n,i,!1,function(t){a("Ekkx")},"data-v-adeeb926",null);e.a=r.exports}},["NHnr"]);
//# sourceMappingURL=app.ec28d461acf761dd23c7.js.map